{% extends "admin_base.html" %}
{% block content %}

<div class="p-8 space-y-12">

    <!-- ================== PROFILE SECTION ================== -->
    <div class="bg-white p-6 rounded-2xl shadow">
        <h2 class="text-2xl font-bold mb-4">Profile Settings</h2>

        <form action="/admin/settings/update_profile" method="POST" class="grid grid-cols-2 gap-6">

            <div>
                <label class="block mb-1 font-medium">Name</label>
                <input type="text" name="name" value="{{ admin.name }}"
                       class="w-full border rounded-lg px-3 py-2">
            </div>

            <div>
                <label class="block mb-1 font-medium">Email</label>
                <input type="email" name="email" value="{{ admin.email }}"
                       class="w-full border rounded-lg px-3 py-2">
            </div>

            <div class="col-span-2 flex gap-4 mt-4">
                <button class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
                    Save Changes
                </button>

                <button type="reset" class="px-6 py-2 bg-gray-300 rounded-lg hover:bg-gray-400">
                    Reset Form
                </button>
            </div>

        </form>
    </div>



    <!-- ================== PASSWORD SECTION ================== -->
    <div class="bg-white p-6 rounded-2xl shadow">
        <h2 class="text-2xl font-bold mb-4">Change Password</h2>

        <form action="/admin/settings/change_password" method="POST" class="grid grid-cols-3 gap-6">

            <div>
                <label class="block mb-1 font-medium">Old Password</label>
                <input type="password" name="old_password" class="w-full border rounded-lg px-3 py-2" required>
            </div>

            <div>
                <label class="block mb-1 font-medium">New Password</label>
                <input type="password" name="new_password" class="w-full border rounded-lg px-3 py-2" required>
            </div>

            <div class="flex items-end">
                <button class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
                    Update Password
                </button>
            </div>

        </form>
    </div>

    <!-- ================== SERVICE SETTINGS ================== -->
    <div class="bg-white p-6 rounded-2xl shadow">
        <h2 class="text-2xl font-bold mb-4">Service Settings</h2>

        <table class="w-full border-collapse">
            <tr class="bg-gray-100 text-left">
                <th class="p-3">Service</th>
                <th class="p-3">Price</th>
                <th class="p-3">Update Price</th>
                <th class="p-3">Views</th>
            </tr>

            {% for s in services %}
            <tr class="border-b">
                <td class="p-3">{{ s.title }}</td>
                <td class="p-3">{{ s.base_price }}</td>
                <td class="p-3">
                    <form action="/admin/settings/update_fee/{{ s.service_id }}" method="POST" class="flex gap-2">
                        <input type="number" name="fee" value="{{ s.fee }}"
                               class="border px-2 py-1 rounded-lg w-24">

                        <button class="px-4 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700">
                            Update
                        </button>
                    </form>
                </td>
                <!-- 
                <td class="p-3">
                    <form action="/admin/settings/toggle_service/{{ s.service_id }}" method="POST">
                        <label class="inline-flex items-center">
                            <input type="checkbox" name="status"
                                   onchange="this.form.submit()"
                                   {% if s.is_active %} checked {% endif %}
                                   class="h-5 w-5">
                            <span class="ml-2">Active</span>
                        </label>
                    </form>
                </td>
                -->
                <td class="p-3">
                    <a class="text-blue-600 underline" href="/service/{{ s.service_id }}">View</a>
                </td>

            </tr>
            {% endfor %}

        </table>

    </div>

</div>

{% endblock %}
